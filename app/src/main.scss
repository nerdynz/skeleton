// Color Nord
@use 'sass:color';

$nord0: #2e3440;
$nord1: #3b4252;
$nord2: #434c5e;
$nord3: #4c566a;
$nord4: #d8dee9;
$nord5: #e5e9f0;
$nord6: #eceff4;
$nord7: #8fbcbb;
$nord8: #88c0d0;
$nord9: #81a1c1;
$nord10: #5e81ac;
$nord11: #bf616a;
$nord12: #d08770;
$nord13: #ebcb8b;
$nord14: #a3be8c;
$nord15: #b48ead;

// base colors
$black: $nord0;
$black-bis: $nord1;
$black-ter: $nord2;

$grey-darker: color.scale($nord3, $lightness: -5%);
$grey-dark: $nord3;
$grey: color.scale($nord3, $lightness: 25%);
$grey-light: color.scale($nord3, $lightness: 35%);
$grey-lighter: color.scale($nord3, $lightness: 48%);
$grey-lightest: color.scale($nord3, $lightness: 55%);

$white-ter: color.scale($nord6, $lightness: 2%);
$white-bis: color.scale($nord6, $lightness: 4%);
$white: #fefefe;
$scheme-background: color.scale($nord6, $lightness: 4%);

// colors
$orange: $nord12;
$yellow: $nord13;
$green: $nord14;
$turquoise: $nord8;
$cyan: $nord9;
$blue: $nord10;
$purple: $nord15;
$red: $nord11;

// $primary: #2e3440;
// $link: #88c0d0;
$primary: $nord1;
$link: $nord9;

$info: $cyan;
$success: $green;
$warning: $yellow;
$danger: $red;

// Typography
$header-family: 'DM Sans', serif;
$family-sans-serif: 'DM Sans', serif;
$family-monospace: 'DM Mono', monospace;

$render-mode: optimizeLegibility !default;

$size-1: 3rem !default;
$size-2: 2.5rem !default;
$size-3: 2rem !default;
$size-4: 1.5rem !default;
$size-5: 1.25rem !default;
$size-6: 1rem !default;
$size-7: 0.75rem !default;

$weight-light: 300 !default;
$weight-normal: 400 !default;
$weight-medium: 500 !default;
$weight-semibold: 600 !default;
$weight-bold: 700 !default;
$weight-extrabold: 800 !default;

// Spacing

$block-spacing: 1.5rem !default;
$aspect-ratios: (
  (1, 1),
  (5, 4),
  (4, 3),
  (3, 2),
  (5, 3),
  (16, 9),
  (2, 1),
  (3, 1),
  (4, 5),
  (3, 4),
  (2, 3),
  (3, 5),
  (9, 16),
  (1, 2),
  (1, 3)
) !default;

// Responsiveness

// The container horizontal gap, which acts as the offset for breakpoints
$gap: 32px !default;

// 960, 1152, and 1344 have been chosen because they are divisible by both 12 and 16
$tablet: 769px !default;

// 960px container + 4rem
$desktop: 960px + 2 * $gap !default;

// 1152px container + 4rem
$widescreen: 1152px + 2 * $gap !default;
$widescreen-enabled: true !default;

// 1344px container + 4rem
$fullhd: 1344px + 2 * $gap !default;
$fullhd-enabled: true !default;
$breakpoints: (
  'mobile': (
    'until': $tablet,
  ),
  'tablet': (
    'from': $tablet,
  ),
  'tablet-only': (
    'from': $tablet,
    'until': $desktop,
  ),
  'touch': (
    'from': $desktop,
  ),
  'desktop': (
    'from': $desktop,
  ),
  'desktop-only': (
    'from': $desktop,
    'until': $widescreen,
  ),
  'until-widescreen': (
    'until': $widescreen,
  ),
  'widescreen': (
    'from': $widescreen,
  ),
  'widescreen-only': (
    'from': $widescreen,
    'until': $fullhd,
  ),
  'until-fullhd': (
    'until': $fullhd,
  ),
  'fullhd': (
    'from': $fullhd,
  ),
) !default;

// Miscellaneous

$easing: ease-out !default;
$radius-small: 0.25rem !default;
$radius: 0.375rem !default;
$radius-medium: 0.5em !default;
$radius-large: 0.75rem !default;
$radius-rounded: 9999px !default;
$speed: 86ms !default;

// Flags
$variable-columns: true !default;
$rtl: false !default;

// Prefixes

$class-prefix: '' !default;
$cssvars-prefix: 'bulma-' !default;
$helpers-prefix: 'is-' !default;
$helpers-has-prefix: 'has-' !default;

$card-radius: $radius;

$hex-opacity-100: FF;
$hex-opacity-90: E6;
$hex-opacity-80: CC;
$hex-opacity-70: B3;
$hex-opacity-60: 99;
$hex-opacity-50: 80;
$hex-opacity-40: 66;
$hex-opacity-30: 4D;
$hex-opacity-20: 33;
$hex-opacity-10: 1A;
$hex-opacity-05: 0A;
$hex-opacity-0: 00;

$header-height: 3rem;
$sidebar-width: 5rem;
$input-height: 3rem;
$input-icon-color: $grey-lighter;
$input-icon-active-color: $grey;
$input-border-color: $grey-lighter;

$speed-slow: 150ms !default;
$speed-slower: 250ms !default;

$input-focus-border-color: $grey-dark;

$input-focus-box-shadow-size: 0 0 0 0.125em;
$input-focus-box-shadow-color: rgba($link, 0.25);

$sidebar-background-color: $white; //color.scale($nord6, $lightness: 8%);
$sidebar-hover-background-color: $nord6;

@use 'bulma/sass' with (
  $title-family: $header-family,
  $family-primary: $family-sans-serif,
  $black: $black,
  $black-bis: $black-bis,
  $black-ter: $black-ter,

  $grey-darker: $grey-darker,
  $grey-dark: $grey-dark,
  $grey: $grey,
  $grey-light: $grey-light,
  $grey-lighter: $grey-lighter,
  $grey-lightest: $grey-lightest,

  $white-ter: $white-ter,
  $white-bis: $white-bis,
  $white: $white,

  $orange: $orange,
  $yellow: $yellow,
  $green: $green,
  $turquoise: $turquoise,
  $cyan: $cyan,
  $blue: $blue,
  $purple: $purple,
  $red: $red,

  $primary: $primary,

  $info: $info,
  $success: $success,
  $warning: $warning,
  $danger: $danger,

  $link: $link
);

@import '@nerdynz/satchel';

:root {
  --bulma-scheme-main: #{$scheme-background};
  --bulma-body-overflow-y: hidden;

  --bulma-title-family: #{$header-family};

  --sidebar-background-color: #{$sidebar-background-color};
  --sidebar-hover-background-color: #{$sidebar-hover-background-color};
  --slideout-background-color: #{$white};

  --bulma-hr-background-color: #{$grey-lighter};

  --hold-background-color: #{$red}#{$hex-opacity-20};
  --progress-background-color: #{$cyan}#{$hex-opacity-20};
  --feedback-background-color: #{$yellow}#{$hex-opacity-20};
  --done-background-color: #{$green}#{$hex-opacity-20};
  --todo-background-color: #{$grey-lightest}#{$hex-opacity-20};

  --hold-background-color-active: #{$red};
  --progress-background-color-active: #{$cyan};
  --feedback-background-color-active: #{$yellow};
  --done-background-color-active: #{$green};
  --todo-background-color-active: #{$grey-lightest};

  --bulma-shadow: 0 0.125em 0.25em -0.125em
      hsla(var(--bulma-shadow-h), var(--bulma-shadow-s), var(--bulma-shadow-l), 0.1),
    0 0px 0 1px hsla(var(--bulma-shadow-h), var(--bulma-shadow-s), var(--bulma-shadow-l), 0.02);

  --header-height: #{$header-height};
  --sidebar-width: #{$sidebar-width};
  --input-height: #{$input-height};
}

// .control, .input, .textarea, .select select {
//   --bulma-scheme-h: #{$scheme-h};
//   --bulma-scheme-s: #{$scheme-s};
//   --bulma-light-l: #{$light-l};
//   --bulma-light-invert-l: #{$dark-l};
//   --bulma-dark-l: #{$dark-l};
//   --bulma-dark-invert-l: #{$light-l};
// }

// ::-webkit-scrollbar {
//   width: 10px;
// }

// ::-webkit-scrollbar-track {
//   -webkit-border-radius: 0px;
//   -webkit-box-shadow: none; // inset 0 0 6px rgba(0, 0, 0, 0.1);
//   border-radius: 0px;
//   // background-color: #f3f3f3;
// }

// ::-webkit-scrollbar-thumb {
//   -webkit-border-radius: 10px;
//   border-radius: 10px;
//   background-color: var(--bulma-grey-lighter);
// }

// ::-webkit-scrollbar-thumb:window-inactive {
//   background-color: var(--bulma-grey-lighter);
// }

// .custom-scrolller::-webkit-scrollbar-track {
//   background-color: rgba(24, 44, 79, 0.2);
//   border: none;
// }

// .custom-scrolller::-webkit-scrollbar {
//   width: 6px;
//   background-color: rgba(24, 44, 79, 0.2);
// }

// .custom-scrolller::-webkit-scrollbar-thumb {
//   background-color: rgba(24, 44, 79, 1);
// }

#app {
  display: flex;
  // flex-direction: column;

  .title,
  .subtitle,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: $header-family;
  }

  .table {
    background-color: $white-bis;
  }

  .b-table .table-wrapper tr:first-child th {
    background-color: $white-bis;
    top: calc(4rem - 2px);
  }

  .table.is-striped tbody tr:not(.is-selected):nth-child(even) {
    background-color: $white-ter;
  }

  .main-header {
    height: $header-height;
    border-bottom: 1px solid var(--bulma-border);
    background-color: var(--sidebar-background-color);

    .button {
      padding: 0.35rem 0.65rem;
    }
  }

  .main-navigation {
    .navbar {
      background-color: var(--sidebar-background-color);
    }
  }

  .main-body {
    padding-left: $sidebar-width;
    width: 100vw;
    height: 100vh;
    overflow: hidden;

    .main-content {
      height: 100vh;
    }

    .main-navigation + .main-content {
      height: calc(100vh - #{$header-height});
    }
  }
}

.page {
  margin-left: $sidebar-width;
  padding: 1.25rem;
}

.button.is-small {
  padding: 0.5em 0.75em 0.5em 0.75em;

  .icon:first-child:not(:last-child) {
    margin-left: calc(-0.35em - 1px);
    margin-right: 0.15em;
  }
}

.ring {
  @include ring;
}

.button {
  @include ring-focus;
}

.button,
.input,
.select select,
.select,
.multiselect,
.multiselect .multiselect__tags {
  font-weight: $weight-normal;
}

.job-navigator {
  background-color: $white-bis;
}

.tabs.is-toggle {
  ul li a {
    height: $input-height;
  }
}

.control.has-icons-left .input:focus ~ .icon.is-clickable,
.control.has-icons-left .select:focus ~ .icon.is-clickable,
.control.has-icons-right .input:focus ~ .icon.is-clickable,
.control.has-icons-right .select:focus ~ .icon.is-clickable {
  color: $input-icon-color;

  &:hover {
    color: $input-icon-active-color;
  }
}

.control.has-icons-left .input ~ .icon.is-clickable,
.control.has-icons-left .select ~ .icon.is-clickable,
.control.has-icons-right .input ~ .icon.is-clickable,
.control.has-icons-right .select ~ .icon.is-clickable {
  color: $input-icon-color;

  &:hover {
    color: $input-icon-active-color;
  }
}

.control.has-icons-left .icon,
.control.has-icons-right .icon {
  height: $input-height;
  padding: 0.5rem;
}

.multi-edit-line {
  display: flex;

  .fieldy {
    &:first-child {
      .control {
        .multiselect,
        .dropdown,
        .textarea,
        .select:not(.is-multiple),
        .select select,
        .input {
          border-top-left-radius: 6px;
          border-bottom-left-radius: 6px;
        }
      }
    }

    &:last-child {
      .control {
        .multiselect,
        .dropdown,
        .textarea,
        .select:not(.is-multiple),
        .select select,
        .input {
          border-top-right-radius: 6px;
          border-bottom-right-radius: 6px;
          border-right-color: $input-border-color;
        }
      }
    }

    .control {
      .multiselect,
      .dropdown,
      .textarea,
      .select:not(.is-multiple),
      .select select,
      .input {
        border-radius: 0;
        border-right-color: transparent;
        // border-right-width: 0;

        &:focus {
          border-right-color: $input-focus-border-color;
        }
      }
    }
  }
}

// .version-changed {
//   min-width: 450px;
//   box-shadow: $card-shadow;
//   right: 3rem;
//   top: 2rem;
// }

// .button {
//   background-color: $white;
//   border-color: $white;

//   &:hover {
//     border-color: darken($white, 2%);
//     background-color: darken($white, 2%);
//   }

//   &.is-primary {
//     --ring-color: #{$primary}#{$hex-opacity-50};

//     border-color: $primary;
//     background-color: $primary;
//     &:hover {
//       border-color: darken($primary, 2%);
//       background-color: darken($primary, 2%);
//     }
//   }

//   &.is-success {
//     --ring-color: #{$success}#{$hex-opacity-50};

//     border-color: $success;
//     background-color: $success;
//     &:hover {
//       border-color: darken($success, 2%);
//       background-color: darken($success, 2%);
//     }
//   }

//   &.is-danger {
//     --ring-color: #{$danger}#{$hex-opacity-50};

//     border-color: $danger;
//     background-color: $danger;
//     &:hover {
//       border-color: darken($danger, 2%);
//       background-color: darken($danger, 2%);
//     }
//   }

//   &.is-info {
//     --ring-color: #{$info}#{$hex-opacity-50};

//     border-color: $info;
//     background-color: $info;
//     &:hover {
//       border-color: darken($info, 2%);
//       background-color: darken($info, 2%);
//     }
//   }

//   &.is-warning {
//     --ring-color: #{$warning}#{$hex-opacity-50};

//     border-color: $warning;
//     background-color: $warning;
//     &:hover {
//       border-color: darken($warning, 2%);
//       background-color: darken($warning, 2%);
//     }
//   }

//   &.is-link {
//     --ring-color: #{$link}#{$hex-opacity-50};

//     border-color: $link;
//     background-color: $link;
//     &:hover {
//       border-color: darken($link, 2%);
//       background-color: darken($link, 2%);
//     }
//   }
// }

.task {
  .button {
    &.bs-todo {
      background-color: var(--todo-background-color);
      border-color: var(--todo-background-color);

      &.is-active {
        background-color: var(--todo-background-color-active);
        border-color: var(--todo-background-color-active);
      }
    }

    &.bs-progress {
      background-color: var(--progress-background-color);
      border-color: var(--progress-background-color);

      &.is-active {
        background-color: var(--progress-background-color-active);
        border-color: var(--progress-background-color-active);
      }
    }

    &.bs-feedback {
      background-color: var(--feedback-background-color);
      border-color: var(--feedback-background-color);

      &.is-active {
        background-color: var(--feedback-background-color-active);
        border-color: var(--feedback-background-color-active);
      }
    }

    &.bs-done {
      background-color: var(--done-background-color);
      border-color: var(--done-background-color);

      &.is-active {
        background-color: var(--done-background-color-active);
        border-color: var(--done-background-color-active);
      }
    }

    &.bs-hold {
      background-color: var(--hold-background-color);
      border-color: var(--hold-background-color);

      &.is-active {
        background-color: var(--hold-background-color-active);
        border-color: var(--hold-background-color-active);
      }
    }
  }
}

#app {
  .splitpanes.default-theme .splitpanes__pane {
    background-color: transparent;
  }

  .default-theme.splitpanes--vertical > .splitpanes__splitter,
  .default-theme .splitpanes--vertical > .splitpanes__splitter {
    border-left: 10px solid transparent;
    border-right: 8px solid transparent;
    background-color: transparent;
  }
}

.backdrop {
  backdrop-filter: blur(10px);
}

.container {
  &.is-readable-width {
    max-width: 48rem !important;
  }
}

.title.has-tag {
  display: flex;
  align-items: center;

  .tag {
    font-weight: 400;
    margin-left: 0.75rem;
  }
}
